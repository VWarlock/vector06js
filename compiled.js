function p(b,d){this.u=this.G=0;this.R=!1;this.a=this.f=this.g=this.b=this.c=this.m=0;this.j=[0,0,0,0,0,0,0,0];this.o=b;this.l=d;this.va=0;p.prototype.J=function(){var b=0,b=this.c?b|128:b&-129,b=this.f?b|64:b&-65,b=this.g?b|16:b&-17,b=this.b?b|4:b&-5,b=this.a?b|1:b&-2;return(b|2)&-41};p.prototype.C=function(b){this.c=b&128?1:0;this.f=b&64?1:0;this.g=b&16?1:0;this.b=b&4?1:0;this.a=b&1?1:0}}function r(b,d,c){return b.o.read(d&65535,c)&255}function t(b,d,c,f){b.o.write(d&65535,c&255,f)}
function aa(b,d){return r(b,d,!0)|r(b,d+1,!0)<<8}function u(b,d){return 6!=d?b.j[d]:r(b,v(b,4))}function w(b,d,c){c&=255;6!=d?b.j[d]=c:t(b,v(b,4),c)}function v(b,d){return 6!=d?b.j[d]<<8|b.j[d+1]:b.G}function x(b,d,c){6!=d?(w(b,d,c>>8),w(b,d+1,c&255)):b.G=c}
p.prototype.h=[1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,
1,0,1,1,0,0,1,1,0,1,0,0,1];p.prototype.A=[0,0,1,0,1,0,1,1];p.prototype.S=[0,1,1,1,0,0,0,1];function y(b){return u(b,7)}function B(b){var d=r(b,b.u);b.u=b.u+1&65535;return d}function C(b){return B(b)|B(b)<<8}function ba(b,d){var c=u(b,d),c=c+1&255;w(b,d,c);b.c=0!=(c&128);b.f=0==c;b.g=0==(c&15);b.b=p.prototype.h[c]}function ca(b,d){var c=u(b,d),c=c-1&255;w(b,d,c);b.c=0!=(c&128);b.f=0==c;b.g=15!=(c&15);b.b=p.prototype.h[c]}
function D(b,d,c){var f=y(b);c=f+d+c;d=(f&136)>>1|(d&136)>>2|(c&136)>>3;f=c&255;b.c=0!=(f&128);b.f=0==f;b.g=p.prototype.A[d&7];b.b=p.prototype.h[f];b.a=0!=(c&256);w(b,7,f)}function E(b,d,c){var f=y(b);c=f-d-c&65535;d=(f&136)>>1|(d&136)>>2|(c&136)>>3;f=c&255;b.c=0!=(f&128);b.f=0==f;b.g=!p.prototype.S[d&7];b.b=p.prototype.h[f];b.a=0!=(c&256);w(b,7,f)}function F(b,d){var c=y(b);E(b,d,0);w(b,7,c)}
function G(b,d){var c=y(b);b.g=0!=((c|d)&8);c&=d;b.c=0!=(c&128);b.f=0==c;b.b=p.prototype.h[c];b.a=0;w(b,7,c)}function H(b,d){var c=y(b),c=c^d;b.c=0!=(c&128);b.f=0==c;b.g=0;b.b=p.prototype.h[c];b.a=0;w(b,7,c)}function I(b,d){var c=y(b),c=c|d;b.c=0!=(c&128);b.f=0==c;b.g=0;b.b=p.prototype.h[c];b.a=0;w(b,7,c)}p.prototype.call=function(b){J(this,this.u);this.u=b};function K(b){var d=aa(b,b.G);b.G=b.G+2&65535;return d}function J(b,d){b.G=b.G-2&65535;var c=b.G;t(b,c,d&255,!0);t(b,c+1,d>>8,!0)}
function L(b,d){var c,f,e,l,g;b.va=d;e=d&240;if(118==d||64!=e&&80!=e&&96!=e&&112!=e)switch(d){default:alert("Oops! Unhandled opcode "+d.toString(16));break;case 0:case 8:case 16:case 24:case 32:case 40:case 48:case 56:c=4;break;case 1:case 17:case 33:case 49:c=12;x(b,d>>3,C(b));break;case 2:case 18:c=8;t(b,v(b,d>>3),y(b));break;case 3:case 19:case 35:case 51:c=8;f=d>>3;x(b,f,v(b,f)+1&65535);break;case 4:case 12:case 20:case 28:case 36:case 44:case 60:c=8;ba(b,d>>3);break;case 52:c=12;ba(b,d>>3);break;
case 5:case 13:case 21:case 29:case 37:case 45:case 61:c=8;ca(b,d>>3);break;case 53:c=12;ca(b,d>>3);break;case 6:case 14:case 22:case 30:case 38:case 46:case 62:c=8;w(b,d>>3,B(b));break;case 54:c=12;w(b,d>>3,B(b));break;case 7:c=4;l=y(b);b.a=0!=(l&128);w(b,7,l<<1&255|b.a);break;case 9:case 25:case 41:case 57:c=12;e=v(b,4)+v(b,(d&48)>>3);b.a=0!=(e&65536);w(b,4,e>>8);w(b,5,e&255);break;case 10:case 26:c=8;e=r(b,v(b,(d&16)>>3));w(b,7,e);break;case 11:case 27:case 43:case 59:c=8;f=(d&48)>>3;x(b,f,v(b,
f)-1&65535);break;case 15:c=4;b.a=y(b)&1;e=y(b)>>1|b.a<<7;w(b,7,e);break;case 23:c=4;e=b.a;b.a=0!=(y(b)&128);e=y(b)<<1|e;w(b,7,e);break;case 31:c=4;e=b.a;b.a=y(b)&1;e=y(b)>>1|e<<7;w(b,7,e);break;case 34:c=20;e=C(b);t(b,e,u(b,5));t(b,e+1,u(b,4));break;case 39:c=4;e=b.a;f=0;l=y(b);if(b.g||9<(l&15))f=6;if(b.a||9<l>>4||9<=l>>4&&9<(l&15))f|=96,e=1;D(b,f,0);b.b=p.prototype.h[y(b)];b.a=e;break;case 42:c=20;e=C(b);b.j[5]=r(b,e);b.j[4]=r(b,e+1);break;case 47:c=4;e=y(b)^255;w(b,7,e);break;case 50:c=16;t(b,
C(b),y(b));break;case 55:c=4;b.a=1;break;case 58:c=16;e=r(b,C(b));w(b,7,e);break;case 63:c=4;b.a=!b.a;break;case 118:c=4;b.u=b.u-1&65535;break;case 128:case 129:case 130:case 131:case 132:case 133:case 135:case 136:case 137:case 138:case 139:case 140:case 141:case 143:c=4;e=d&8?b.a:0;D(b,u(b,d&7),e);break;case 134:case 142:c=8;e=d&8?b.a:0;D(b,u(b,d&7),e);break;case 144:case 145:case 146:case 147:case 148:case 149:case 151:case 152:case 153:case 154:case 155:case 156:case 157:case 159:c=4;e=d&8?b.a:
0;E(b,u(b,d&7),e);break;case 150:case 158:c=8;e=d&8?b.a:0;E(b,u(b,d&7),e);break;case 160:case 161:case 162:case 163:case 164:case 165:case 167:c=4;G(b,u(b,d&7));break;case 166:c=8;G(b,u(b,d&7));break;case 168:case 169:case 170:case 171:case 172:case 173:case 175:c=4;H(b,u(b,d&7));break;case 174:c=8;H(b,u(b,d&7));break;case 176:case 177:case 178:case 179:case 180:case 181:case 183:c=4;I(b,u(b,d&7));break;case 182:c=8;I(b,u(b,d&7));break;case 184:case 185:case 186:case 187:case 188:case 189:case 191:c=
4;F(b,u(b,d&7));break;case 190:c=8;F(b,u(b,d&7));break;case 192:case 200:case 208:case 216:case 224:case 232:case 240:case 248:g=[b.f,b.a,b.b,b.c];c=8;g[d>>4&3]==(0!=(d&8))&&(c=16,b.u=K(b));break;case 193:case 209:case 225:case 241:f=(d&48)>>3;c=12;e=K(b);6!=f?x(b,f,e):(w(b,7,e>>8),b.C(e&255));break;case 194:case 202:case 210:case 218:case 226:case 234:case 242:case 250:g=[b.f,b.a,b.b,b.c];f=d>>4&3;l=0!=(d&8);c=12;e=C(b);b.u=g[f]==l?e:b.u;break;case 195:case 203:c=12;b.u=C(b);break;case 196:case 204:case 212:case 220:case 228:case 236:case 244:case 252:g=
[b.f,b.a,b.b,b.c];f=d>>4&3;l=0!=(d&8);e=C(b);c=16;g[f]==l&&(c=24,b.call(e));break;case 197:case 213:case 229:case 245:f=(d&48)>>3;c=16;e=6!=f?v(b,f):y(b)<<8|b.J();J(b,e);break;case 198:c=8;D(b,B(b),0);break;case 199:case 207:case 215:case 223:case 231:case 239:case 247:case 255:c=16;e=d&56;J(b,b.u);b.u=e;break;case 201:case 217:c=12;b.u=K(b);break;case 205:case 221:case 237:case 253:c=24;b.call(C(b));break;case 206:c=8;D(b,B(b),b.a);break;case 211:c=12;e=b.l;f=B(b);l=y(b);switch(f){case 8:case 9:case 10:case 11:M(e.X,
~f&3,l);break;default:e.f=f,e.h=l}break;case 214:c=8;E(b,B(b),0);break;case 219:c=12;e=b.l.input(B(b));w(b,7,e);break;case 222:c=8;E(b,B(b),b.a);break;case 227:c=24;e=aa(b,b.G);f=b.G;l=v(b,4);t(b,f,l&255,!0);t(b,f+1,l>>8,!0);w(b,5,e&255);w(b,4,e>>8);break;case 230:c=8;G(b,B(b));break;case 233:c=8;b.u=v(b,4);break;case 235:c=4;e=u(b,5);f=u(b,3);w(b,5,f);w(b,3,e);e=u(b,4);f=u(b,2);w(b,4,f);w(b,2,e);break;case 238:c=8;H(b,B(b));break;case 243:case 251:c=4;0!=(d&8)?b.m=2:(b.R=!1,b.l.R=!1);break;case 246:c=
8;I(b,B(b));break;case 249:c=8;b.G=v(b,4);break;case 254:c=8,F(b,B(b))}else src=d&7,dst=d>>3&7,c=8,w(b,dst,u(b,src));0!==b.m&&0===--b.m&&(b.R=!0,b.l.R=!0);b.Xa=c};function N(){N.prototype.C=[255,15,255,15,255,15,31,255,31,31,31,255,255,15,255,255];N.prototype.A=[0,.0137,.0205,.0291,.0423,.0618,.0847,.1369,.1691,.2647,.3527,.4499,.5704,.6873,.8482,1];this.reset=function(){this.a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h=this.o=this.j=this.b=this.f=this.m=this.l=0;this.g=1;this.c=0};this.reset()}
function O(b,d){++b.a[d+16]>=(b.a[d<<1]|b.a[1|d<<1]<<8)&&(b.a[d+16]=0,b.j^=1<<d);return((b.a[7]>>d|b.j>>d)&(b.a[7]>>d+3|b.h)&1)*N.prototype.A[b.a[8+d]&16?b.m:b.a[8+d]&15]}
N.prototype.step=function(){if(++this.l>=(this.a[11]<<1|this.a[12]<<9)){this.l=0;var b;a:{if(this.f>>4){if(this.b&1){b=7.5*((this.b>>1^this.b)&2);break a}this.f=0;this.b^=this.b<<1&4}b=this.b&4?this.f++:15-this.f++}this.m=b}++this.o>=this.a[6]<<1&&(this.o=0,this.h=this.g&1,this.g=(this.g^147456*this.h)>>1);return(O(this,0)+O(this,1)+O(this,2))/3};N.prototype.write=function(b,d){1==b?this.c=d&15:(this.a[this.c]=d&N.prototype.C[this.c],13==this.c&&(this.f=0,this.b=d&8?1|d>>1&2|d&4:d))};
N.prototype.read=function(b){return 1==b?this.c:this.a[this.c]};function da(b){this.c=b;this.b=this.a=0}da.prototype.step=function(b){this.b+=b};var P=new function(){this.a=function(b){b=b.toString(16).toUpperCase();return"0".slice(b.length-1)+b};this.b=function(b){b=b.toString(16).toUpperCase();return"000".slice(b.length-1)+b}};function Q(){this.L=0;this.B=this.D="";this.U=this.Ga=this.Fa=this.T=0;this.P=[];this.Ea=null;this.Da=0}function ea(b,d){var c=d.toUpperCase().split(".");b.D=c[0];b.B=c[1];void 0==b.B&&(b.B="");return b}function R(b){this.a=b;this.ga=null;this.ra=0}function S(b,d){b.ga=[];var c=function(b,c,d){var g;T(b,function(b){if(16>b.L&&b.D===c.D&&b.B===c.B){for(var f in b.P)d.push(b.P[f]);if(128!=b.U)return g=b,!0}});return g}(b.a,d,b.ga);c&&(b.ra=16384*c.T+128*c.U);return b}
function fa(b){this.s=new Uint8Array(b);for(b=this.s.length;0<=--b;this.s[b]=229);}function ga(b,d){if(b.s.length<d.length){b.s=new Uint8Array(d.length);for(var c=b.s.length;0<=--c;b.s[c]=229);}for(c=d.length;0<=--c;)b.s[c]=d[c];return b}function ha(b,d,c,f){d=10240*d+5120*c+1024*(f-1);return b.s.subarray(d,d+1024)}
function T(b,d){for(var c=40960;45056>c;c+=32){var f=new Q,e=f,l=b.s.subarray(c,c+32),g=0;e.L=l[g];g+=1;e.D=String.fromCharCode.apply(null,l.subarray(g,g+8));g+=8;e.D=e.D.trim();e.B=String.fromCharCode.apply(null,l.subarray(g,g+3));g+=3;e.B=e.B.trim();e.T=l[g];g+=1;e.Fa=l[g];g+=1;e.Ga=l[g];g+=1;e.U=l[g];for(var g=g+1,h=l.subarray(g,g+16),g=0;g<h.length;g+=2)e.P.push(255&h[g]|h[g+1]<<8&65280);e.Ea=l;f.Da=(c-40960)/32;if(d(f))break}}
function U(b,d){var c=new Q;ea(c,d.toUpperCase());var f;T(b,function(b){return 16>b.L&&b.D===c.D&&b.B===c.B?(f=b,!0):!1});if(f)return S(new R(b),f)}function ia(b){var d=8+Math.floor(b/5);return[d>>1,d%2,1+b%5]}function ja(b,d){var c=new Uint8Array(d.ra),f=0,e;for(e in d.ga){var l=d.ga[e]<<1;if(2>l)break;for(var g=0;2>g;g++)for(var h=ia(l+g),h=ha(b,h[0],h[1],h[2]),q=0;1024>q;q++)c[f++]=h[q]}return c}function ka(b){var d=U(b,"test.rnd");if(d)return ja(b,d)}
function la(b){T(b,function(d){if(16>d.L&&0==d.T){var c=S(new R(b),d);console.log(d.D+" "+d.B+" "+c.ra)}return!1})}function ma(b){var d=new Uint8Array(390);(function(b,c){T(b,function(b){if(16>b.L)for(var d in b.P)c[b.P[d]]=!0;return!1})})(b,d);b=[];for(var c=2;c<d.length;c++)d[c]||b.push(c);return b}
function na(b,d,c){var f=ma(b);if(f.length<c.length/2048)console.log("Disk full, remaining clusters:",f.length);else if(d=function(b,c,d,e){var f=0,l=0;T(b,function(b){if(16<=b.L){console.log("saveFile: using header ",b.Da,b.D,b.B);c.U=Math.ceil(e/128);c.T=l;l+=1;128<c.U&&(c.U=128);for(var g=0;8>g;g+=1)c.P[g]=0<e?d[f]:0,0<e&&(e-=2048,f++);b=b.Ea;g=0;b[g++]=c.L;for(var h=c.D+"        ",k=0;8>k;k+=1)b[g+k]=h.charCodeAt(k);g+=8;h=c.B+"   ";for(k=0;3>k;k+=1)b[g+k]=h.charCodeAt(k);g+=3;b[g++]=c.T;b[g++]=
c.Fa;b[g++]=c.Ga;b[g++]=c.U;for(k=0;8>k;k++)b[g++]=c.P[k]&255,b[g++]=c.P[k]>>8&255;if(0>=e)return!0}});return f}(b,ea(new Q,d),f,c.length),0!=d)for(var e=0,l=0;l<d&&e<c.length;l+=1)for(var g=f[l]<<1,h=0;2>h;h++)for(var q=ia(g+h),q=ha(b,q[0],q[1],q[2]),m=0;1024>m;m++)q[m]=c[e++]}
function oa(b){console.log("List all files:");T(b,function(c){16>c.L&&0==c.T&&console.log("File: ",c.D,".",c.B," header=",c," dirent=",S(new R(b),c))});console.log("Find pip.com:");var d=U(b,"pip.com");if(d)console.log("Found:",d);else throw"File was not found";var c=ja(b,d),d=[195,206,4,201,0,0,201,0,0,26,0,0,0,0,0,0,40,73,78,80,58,47,79,85,84,58,83,80,65,67,69,41];console.log("Read bytes:",function(b){var c="";for(e in b)c+=b[e].toString(16)+" ";return c}(c.subarray(0,32)));for(var f=!0,e=0;e<d.length;e+=
1)if(f&=c[e]===d[e],!f){console.log("Contents mismatch: expected 0x"+d[e].toString(16)+" got "+c[e].toString(16));debugger}console.log("File reading seems to be ok");console.log("Which clusters are unallocated:");c=ma(b);console.log(c);console.log("Creating new file");c=new Uint8Array(54321);for(e=c.length;0<=--e;c[e]=255*Math.random());na(b,"test.rnd",c);console.log("List all files:");T(b,function(c){16>c.L&&0==c.T&&console.log("File: ",c.D,".",c.B," header=",c," dirent=",S(new R(b),c))});console.log("Searching for new file:");
d=U(b,"test.rnd");if(!d){console.log("test.rnd not found");debugger}console.log("found, comparing contents");d=ka(b);if(!d){console.log("Could not read file");debugger;throw"";}for(e=0;e<c.length;e++)if(c[e]!==d[e]){console.log("Contents mismatch pos=",e,"expected=",c[e].toString(16),"got=",d[e].toString(16));debugger;throw"";}console.log("Which clusters are unallocated:");c=ma(b);console.log(c);console.log("All tests done");debugger};function V(){this.g=this.I=0;this.h=3;this.c=1;this.j=this.value=0;this.l=!1;this.o=this.m=0;this.f=void 0;this.a=this.b=!1;this.M=0;pa(this,0)}function pa(b,d,c){b.K(8);b.M=8;2==(d&4)?b.j=2:3==(d&4)?b.j=3:b.j=d;switch(b.j){case 0:b.c=0;b.l=!0;b.a=!1;break;case 1:b.c=1;b.a=!1;b.l=!0;break;case 2:b.c=1;b.a=!1;break;default:b.c=1,b.a=!1}b.b=!1;b.h=c;b.g=0}
function qa(b){b.K(0);b.M=0;var d;switch(b.h){case 1:return d=b.I?b.I:b.value,b.I=void 0,d&255;case 2:return d=b.I?b.I:b.value,b.I=void 0,d>>8&255;case 3:switch(d=b.I?b.I:b.value,b.g){case 0:return b.g=1,d&255;case 1:return b.I=void 0,b.g=0,d>>8&255}}return 0}
V.prototype.K=function(b){if(0!==this.M){b-=this.M;if(0>b)return this.M=-b,this.c;this.M=0}switch(this.j){case 0:this.b&&(this.value=this.f,this.a=!0,this.b=!1);this.a&&(this.value-=b,0>=this.value&&(this.value+=65535,this.l&&(this.c=1,this.l=!1)));break;case 1:!this.a&&this.b&&(this.a=!0,b-=3);this.b=!1;this.a&&0<b&&(this.value-=b,0>=this.value&&(this.value+=this.f));break;case 2:!this.a&&this.b&&(this.value=this.f,this.a=!0);this.b=!1;this.a&&0<b&&(this.value-=b,0>=this.value&&(this.value+=this.f));
break;case 3:!this.a&&this.b&&(this.value=this.f,this.a=!0,1==(this.value&1)&&(this.value-=0===this.c?3:1,--b)),this.b=!1,this.a&&0>=(this.value-=b<<1)&&(this.value+=this.f,this.c^=1,1==(this.value&1)&&(this.value-=0===this.c?3:1,this.M=1))}return this.c};function ra(){this.a=[new V,new V,new V];this.b=0}
function M(b,d,c){switch(d&3){case 3:b.b=c;d=c>>1&3;var f=c>>4&3;c=b.a[c>>6&3];0===f?(c.K(6),c.M=6,c.I=c.value):pa(c,d,f);break;default:if(b=b.a[d&3],b.K(8),b.M=8,3==b.h)switch(b.g){case 0:b.m=c;b.g=1;break;case 1:b.o=c,b.g=0,b.f=b.o<<8&65535|b.m&255,b.b=!0}else 1==b.h?(b.value=b.value&65280|c,b.value&=65535,b.f=b.value,b.b=!0):2==b.h&&(b.value=b.value&255|c<<8,b.value&=65535,b.f=b.value,b.b=!0)}}ra.prototype.qa=function(b){switch(b&3){case 3:return this.b;default:return qa(this.a[b&3])}};
ra.prototype.K=function(b){return this.a[0].K(b)+this.a[1].K(b)+this.a[2].K(b)};function sa(b){this.c=b;this.a=this.b=0}sa.prototype.step=function(b){this.b+=this.c.K(b);this.a+=8};function ta(b,d,c,f,e){this.R=!1;this.ia=new Uint32Array(16);this.l=b;this.X=d;this.na=c;this.b=e;this.A=f;this.Ka=function(){};this.Ja=function(){};this.xa=function(){};this.g=function(){};this.c=152;this.a=this.j=this.ha=255;this.o=0;this.S=this.J=this.C=255;this.m=this.h=this.f=void 0}
ta.prototype.input=function(b){var d=255;switch(b){case 0:d=255;break;case 1:d=this.a&15|16|(this.l.Ba?0:32)|(this.l.Na?0:64)|(this.l.La?0:128);break;case 2:0!==(this.c&2)?d=this.l.qa(~this.ha):d=255;break;case 3:d=0===(this.c&16)?0:255;break;case 4:d=this.o;break;case 5:d=this.S;break;case 6:d=this.J;break;case 7:d=this.C;break;case 8:case 9:case 10:case 11:return this.X.qa(~(b&3));case 20:case 21:d=this.A.read(b&1);break;case 24:d=this.b.read(3);break;case 25:d=this.b.read(2);break;case 26:d=this.b.read(1);
break;case 27:d=this.b.read(0)}return d};fullscreen=function(b){if(document.mozFullScreen||document.webkitIsFullScreen)document.a?document.a():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{var d=document.getElementById("canvasdiv");d.a?d.a():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullScreen?d.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):1!=b&&alert("Fullscreen not supported. Try Firefox or Chrome.")}};
fullscreener=new function(){this.exec=function(){fullscreen()}};zip.workerScriptsPath="./zip.js/WebContent/";memory=new ua;
keyboard2=new function(){this.c=new Uint8Array(8);this.La=this.Na=this.Ba=!1;this.onreset=function(){};this.b=function(b){if(window.event){try{window.event.keyCode=0}catch(d){}window.event.returnValue=!1;window.event.cancelBubble=!0}b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation()};var b=this;this.g=function(c){var d=document.all?event.keyCode:c.which;b.b(c);if(122===d||123===d)b.onreset(122===d);else b.a(d,!1);return!1};this.h=function(c){var d=document.all?event.keyCode:
c.which;b.b(c);122!==d&&123!==d&&b.a(d,!0);return!1};var d={32:[7,128],192:[7,64],221:[7,32],220:[7,16],219:[7,8],90:[7,4],89:[7,2],88:[7,1],87:[6,128],86:[6,64],85:[6,32],84:[6,16],83:[6,8],82:[6,4],81:[6,2],80:[6,1],79:[5,128],78:[5,64],77:[5,32],76:[5,16],75:[5,8],74:[5,4],73:[5,2],72:[5,1],71:[4,128],70:[4,64],69:[4,32],68:[4,16],67:[4,8],66:[4,4],65:[4,2],191:[4,1],191:[3,128],190:[3,64],187:[3,32],188:[3,16],186:[3,8],222:[3,4],57:[3,2],56:[3,1],55:[2,128],54:[2,64],53:[2,32],52:[2,16],51:[2,
8],50:[2,4],49:[2,2],48:[2,1],116:[1,128],115:[1,64],114:[1,32],113:[1,16],112:[1,8],27:[1,4],308:[1,2],220:[1,1],40:[0,128],39:[0,64],38:[0,32],37:[0,16],8:[0,8],13:[0,4],18:[0,2],9:[0,1]};this.a=function(b,f){var e,l,g;e=f?function(b,c,d){b[c]&=~d}:function(b,c,d){b[c]|=d};switch(b){case 16:this.Ba=!f;break;case 17:this.Na=!f;break;case 117:case 91:case 93:this.La=!f;break;default:8==b&&this.Ba&&(b=308);61==b?b=187:59==b&&(b=186);var h=d[b];h&&(l=h[0],g=h[1]);void 0!==l&&e(this.c,l,g)}};this.qa=
function(b){for(var d=0,e=0;8>e;e+=1)0!==(b&1)&&(d|=this.c[e]),b>>=1;return~d&255};this.f=function(){document.onkeypress=function(){return!1};document.onkeydown=this.g;document.onkeyup=this.h}};keyboard2.f();timer=new ra;ay=new N;
floppy=new (function(){function b(){this.log=!1;this.ja=null;this.za=9;this.la=512;this.Ia=1;this.ka=this.ya=this.ba=this.position=this.ma=this.track=this.data=0;this.V=new Uint8Array(6);this.Wa={128:0,256:1,512:2,1024:3}}function d(){this.v=!1;this.sa=[new b,new b,new b,new b];this.da=0;this.H=this.sa[0];this.i=this.ca=this.$=this.w=this.Y=this.Z=0;new Uint8Array(8);this.W=0;this.pa=2;this.F=this.pa+1;this.ea=1}var c={};b.prototype.ua=function(){return null!==this.ja};b.prototype.wa=function(b,c){this.name=
b;var d=c.length,g=new Uint8Array(d);if(c){var h;if("string"==typeof c)for(h=0;h<d;h++)g[h]=c.charCodeAt(h);else for(h=0;h<d;h++)g[h]=c[h]}this.ja=g;this.Sa()};b.prototype.seek=function(b,c,d){null!==this.ja&&(this.position=(b*this.za*this.Ia+this.za*d+(0!==c?c-1:0))*this.la,this.track=b,this.ma=d,console.log("FD1793: disk seek position:",P.b(this.position),"(side:"+this.ma+",trk:"+this.track+",sec:"+c+")"))};b.prototype.Ua=function(b){this.ya=this.la;this.ka=this.ba=0;this.Ma=b;this.seek(this.track,
this.Ma,this.ma)};b.prototype.Ta=function(){this.ya=6;this.ka=1;this.ba=0;this.V[0]=this.track;this.V[1]=this.ma;this.V[2]=this.Ma;this.V[3]=this.Wa[this.la];this.V[4]=0;this.V[5]=0};b.prototype.read=function(){var b=!0;this.ba<this.ya?(b=!1,this.data=this.ka?this.V[this.ba]:this.ja[this.position+this.ba],this.ba++):this.log&&console.log("FD1793: read finished src:",this.ka);return b};b.prototype.Sa=function(){this.ua()?(this.Ia=2,this.la=1024,this.za=5):console.warn("FD1793: no disk")};d.prototype.wa=
function(b,c,d){if(0>b||3<b)throw"FD1793: illegal drive:"+b;this.v&&console.log("FD1793: loadDsk: "+c);this.sa[b].wa(c,d)};d.prototype.exec=function(){var b;if(1==this.ca||2==this.ca){if(this.i&2)throw"invalid read";(b=this.H.read())?(this.i&=-2,this.Z=1):(this.i|=2,this.Y=this.H.data);this.v&&console.log("FD1793: exec - read done, finished:",b,"data:",P.a(this.Y),"status:",P.a(this.i))}else this.i&=-2};d.prototype.read=function(b){var c=0;this.i=this.H.ua()?this.i&-129:this.i|128;switch(b){case 0:c=
this.i;this.i&1&&(0>this.F?(c&=-2,++this.F):this.F<this.pa?++this.F:this.F===this.pa&&(++this.F,this.exec(),c=this.i));this.Z=0;break;case 1:c=this.w;break;case 2:c=this.$;break;case 3:this.i&2||console.log("reading too much!");c=this.Y;this.i&=-3;this.exec();break;case 4:this.i&1&&this.exec();c=this.Z|(this.i&2?128:0);break;default:console.warn("FD1793: invalid port read");debugger}this.v&&console.log("FD1793: read port:",b,"result:",P.a(c),"status:",P.a(this.i));return c};d.prototype.Ra=function(b){var c=
b>>>4,d=b&15,g,h;g=h=d&1;this.ca=this.Z=0;console.log("FD1793: CMD=",P.a(b));switch(c){case 0:this.v&&console.log("FD1793: CMD restore");this.Z=1;this.H.ua()?(this.w=0,this.H.seek(this.w,1,this.da)):this.i|=16;break;case 1:this.v&&console.log("FD1793: CMD seek",P.a(d));this.H.seek(this.Y,this.$,this.da);this.w=this.Y;this.Z=1;this.i|=1;this.F=this.W;break;case 2:case 3:this.v&&console.log("FD1793: CMD step",g);this.w+=this.ea;0>this.w&&(this.w=0);this.F=this.W;this.i|=1;break;case 4:case 5:this.v&&
console.log("FD1793: CMD step in",g);this.ea=1;this.w+=this.ea;this.F=this.W;this.i|=1;break;case 6:case 7:this.v&&console.log("FD1793: CMD step out",g);this.ea=-1;this.w+=this.ea;0>this.w&&(this.w=0);this.F=this.W;this.i|=1;break;case 8:case 9:this.ca=1;this.i|=1;this.H.seek(this.w,this.$,this.da);this.H.Ua(this.$);console.log("FD1793: CMD read sector m:",h,"p:",P.a(d),"sector:",this.$,"status:",P.a(this.i));this.F=this.W;break;case 10:case 11:this.v&&console.log("FD1793: CMD write sector",h);break;
case 12:this.ca=2;this.i|=1;this.H.Ta();this.F=this.W;this.v&&console.log("FD1793: CMD read address m:",h,"p:",P.a(d),"sector:",P.a(this.i));break;case 13:this.v&&console.log("FD1793: CMD force interrupt");break;case 14:this.v&&console.log("FD1793: CMD read track");break;case 15:this.v&&console.log("FD1793: CMD write track")}};d.prototype.write=function(b,c){switch(b){case 0:this.Ra(c);break;case 1:this.v&&console.log("FD1793: set track:",c);this.w=c;this.i&=-3;break;case 2:this.v&&console.log("FD1793: set sector:",
c);this.$=c;this.i&=-3;break;case 3:this.v&&console.log("FD1793: set data:",P.a(c));this.Y=c;this.i&=-3;break;case 4:this.H=this.sa[c&3];this.da=~c>>2&1;this.v&&console.log("FD1793: set pr:",P.a(c)," disk select: ",c&3," side: ",this.da);break;default:console.warn("FD1793: invalid port write");debugger}};c.Qa=d;return c}().Qa);io=new ta(keyboard2,timer,memory,ay,floppy);cpu=new p(memory,io);v06c=new va;v06c.N=0;var wa=document.getElementById("frameskip");
v06c.o=function(b,d){wa.innerText=v06c.N+" "+d};var W="roms/testtp.rom",xa="chooser-glass",ya="about-panel";
if(location.search){W=location.search.substring(1);if("i"===W[0]){document.body.className+=" fullpage";var X=document.getElementById("canvasdiv");X.className="fullpage";var za=document.getElementById("outerdiv");za.parentNode.replaceChild(X,za);var Y=document.getElementById("chooser-panelcontainer");Y.style.position="absolute";Y.style.top="0";Y.style.left="0";Y.className+=" fullpage";X.parentNode.appendChild(Y);xa="chooser-panelcontainer";Y.style.display="none";var Aa=document.getElementById("about-panel");
Aa.className+=" fullpage";X.parentNode.appendChild(Aa);ya="about-panel";W=W.substring(2)}else if("t"==W[0])throw W=W.substring(2),new Z(W,function(){console.log("Loader test - callback ok")},function(){console.log("Loader test - callback error")},function(b){b=ga(new fa,b);oa(b)}),v06c.pause(function(){}),"test ended";console.log("user url=",W)}boot=void 0;_onfocus=function(){v06c.Aa.Ha(!1);v06c.Va()};_onblur=function(){v06c.Aa.Ha(!0);v06c.pause(function(){})};
window.addEventListener("load",function(){window.addEventListener("focus",_onfocus);window.addEventListener("blur",_onblur)});keyboard2.onreset=function(b){b&&boot&&Ba(boot);v06c.oa(b)};io.g=function(b){window.parent.ruslat&&window.parent.ruslat(b)};var Ca=null;
function Da(){console.log("loadUserRom url=",W);(new Z(W,function(b,d){v06c.pause(function(){Ea(b,d);v06c.oa(!1)})},function(){console.log("ROM could not be loaded from: ",W)},function(b){console.log("Smells like a floppy image: ",W);floppy.wa(0,W,b)},xa,"chooserpanel")).b()}new Z("boot/boots.bin",function(b){boot=b;v06c.pause(function(){Ea([],0);Ba(b);v06c.oa(!0);Ca&&(W=Ca);Da()})},function(){console.log("Cannot load bootloader, not a problem for loading roms")});
about=function(b){aboot=document.getElementById(ya);b?(aboot.className+=" visible",aboot.style.opacity=1):(aboot.className=aboot.className.substring(0,aboot.className.length-8),aboot.style.opacity=0)};blksbr=function(b){keyboard2.onreset(b)};sideload=function(b){Ca=b};window.parent.registerHooks&&window.parent.registerHooks({about:about,blksbr:blksbr,sideload:sideload});function ua(){this.s=new Uint8Array(327680);this.aa=void 0;for(var b=0;b<this.s.length;b++)this.s[b]=0;this.a=this.b=!1;this.f=this.c=0}function Fa(b,d,c){if(b.a||b.b){if(b.b&&void 0!==c&&c)return d+(b.f<<16);if(b.a&&40960<=d&&57344>d)return d+(b.c<<16)}return d}function Ga(b){return b&491520|b<<2&32764|b>>13&3}ua.prototype.read=function(b,d){return this.aa&&b<this.aa.length?this.aa[b]:this.s[Ga(Fa(this,b&65535,d))]};ua.prototype.write=function(b,d,c){this.s[Ga(Fa(this,b&65535,c))]=d};
function Ea(b,d){var c=memory,f,e;for(f=c.s.length;0<=--f;)c.s[f]=0;f=0;for(e=b.length;f<e;f++)c.write(d+f,b[f],!1)}function Ba(b){var d=memory;d.aa=new Uint8Array(b.length);for(var c=b.length;0<=--c;)d.aa[c]=b[c]};function Z(b,d,c,f,e,l){function g(b){var c={},e;for(e in b)if(c.fa=e,c.target=document.getElementById(b[c.fa]),c.target){if("INPUT"===c.target.tagName){var f=function(c){return function(){var e=document.getElementById(b[c.fa]);console.log("fileSelectHandler e=",e.files[0]);Z.prototype.a&&(Z.prototype.a.style.display="none",Z.prototype.a=void 0);h(e.files[0].name,e.files[0],d);var g=document.createElement("input");g.className="upload";g.type="file";g.name="fileselect[]";g.addEventListener("change",
f);e.parentNode.replaceChild(g,e);g.id="fileselect"}}(c);c.target.addEventListener("change",f,!1)}else"CANVAS"===c.target.tagName&&(c.target.g=function(b){b.preventDefault()},c.target.c=function(b){return function(c){c.preventDefault();b.target.parentNode.className+=" dragover"}}(c),c.target.f=function(b){return function(c){c.preventDefault();c=b.target.parentNode;c.className=c.className.replace(/ dragover/g,"")}}(c),c.target.b=function(b){b.preventDefault()},c.target.h=function(b){return function(c){c.preventDefault();
var e=b.target.parentNode;e.className=e.className.replace(/ dragover/g,"");h(c.dataTransfer.files[0].name,c.dataTransfer.files[0],d)}}(c));c={fa:c.fa,target:c.target}}else console.log("initDrop: cannot find element ",b[c.fa])}function h(b,c,d){zip.createReader(new zip.BlobReader(c),function(b){b.getEntries(function(b){if(b.length){for(var c=[],d=0;d<b.length;d++)c.push(b[d]);1==c.length?z(c[0]):1<c.length&&q(b)}})},function(e){console.log("unzip",e," - trying as rom or fdd");b.toLowerCase().endsWith("fdd")?
A(c,f,0):A(c,d,b.toLowerCase().endsWith("r0m")?0:256)})}function q(b){var c=document.getElementById(e),d=document.getElementById(l),f=document.createElement("div");f.id="buildhdr";d.appendChild(f);f.innerText="[OR BUILD A BOOTABLE FLOPPY IMAGE]";(function(b){f.onclick=function(){c.style.display="none";k(b)}})(b);var g=document.createElement("ul");g.className="romchooser-ol";d.appendChild(g);d.style.height="75vh";for(d=0;d<b.length;d+=1){var h=document.createElement("li"),n=document.createElement("a");
n.href="#";h.appendChild(n);n.innerText=b[d].filename;(function(b){h.onclick=function(){c.style.display="none";z(b)}})(b[d]);h.className=m(b[d].filename)?"chooser-li-rom":b[d].filename.toLowerCase().endsWith("fdd")?"chooser-li-fdd":"chooser-li-wtf";g.appendChild(h)}c.style.display="block";Z.prototype.a=c}function m(b){b=b.toLowerCase();return b.endsWith("rom")||b.endsWith("r0m")||b.endsWith("com")||b.endsWith("bin")}function k(b){new Z("roms/ryba.fdd",function(){},function(){},function(c){var d=ga(new fa(0),
c);console.log("\u0440\u044b\u0431\u0430");if(d)for(var e=b.length,g,h=0;h<b.length;h+=1){var k=function(b){if(b){b=b.toUpperCase()+"\n"+String.fromCharCode(26);for(var c=new Uint8Array(b.length),e=0;e<b.length;e++)c[e]=b.charCodeAt(e);na(d,"initial.sub",c)}f(d.s,0)};(function(c){c.toLowerCase().endsWith("fdd")?(console.log("Not including ",c),0===--e&&k(g)):(console.log("Extracting ",c),c.toLowerCase().endsWith("com")&&(g=c.toUpperCase().split(".")[0]),n(b[h],function(b){console.log("Saving ",c);
na(d,c,b);0===--e&&(console.log("All files saved, boot"),la(d),k(g))},0))})(b[h].filename)}})}function z(b){var c=b.filename.toLowerCase();c.endsWith("rom")||c.endsWith("r0m")||c.endsWith("bin")||c.endsWith("com")?n(b,d,c.endsWith("r0m")||c.endsWith("bin")?0:256):c.endsWith("fdd")&&n(b,f,function(b){var c=b;if(819200>b.length){var c=new Uint8Array(819200),d;for(d=b.length;0<=--d;c[d]=b[d]);for(d=c.length;--d>=b.length;c[d]=229);}return c})}function n(b,c,d){if(b.blob)A(b.blob,c,d);else{console.log("Unzipping ",
b.filename);var e=new zip.BlobWriter("application/octet-stream");b.getData(e,function(b){A(b,c,d)})}}function A(b,c,d){var e=new FileReader;e.addEventListener("loadend",function(){var b=new Uint8Array(e.result);"function"==typeof d?c(d(b),0):c(b,d)});e.readAsArrayBuffer(b)}this.b=function(){var b=["fileselect","canvas"];window.File&&window.FileList&&window.FileReader&&g(b)};(function(b,c,d){var e=b.name;if(e){var f=b.mem,g,l,n=!1;if(e.endsWith("r0m")){g=new ArrayBuffer(f.length);l=new Uint8Array(g);
for(var m=0;m<l.length;m+=1)l[m]=f[m]}else if(e.endsWith("rom")||e.endsWith("com")){g=new ArrayBuffer(f.length-256);l=new Uint8Array(g);n=256;for(m=0;m<l.length;++n,++m)l[m]=f[n];n=e.endsWith("com")}f=new Blob([g],{type:"application/octet-stream"});n?k([{filename:e,blob:f}]):h(b.name,f,c)}else{var A=new XMLHttpRequest;A.open("GET",b,!0);A.responseType="blob";A.onload=function(){h(b,A.response,c)};A.onerror=function(b){console.log("XMLHttpRequest error",b);d()};A.send()}})(b,d,c)};function Ha(b,d){this.l=new da(b);this.A=new sa(d);this.a=this.j=this.h=null;this.f=this.c=this.g=this.o=0;if("undefined"!=typeof AudioContext){console.debug("AudioContext found");this.b=new (window.AudioContext||window.webkitAudioContext);this.j=this.b.sampleRate;this.o=this.j/1497600;this.m=this.b.createScriptProcessor(2048,0,2);this.a=this.b.createGain();this.a.gain.value=1;var c=this;this.m.onaudioprocess=function(b){if(2048<=(c.c-c.f&8191)){var d=b.outputBuffer;b=d.getChannelData(0);for(var d=
d.getChannelData(1),l=c.f,g=c.h,h=0;2048>h;)b[h]=d[h]=g[l],h+=1,l+=1,b[h]=d[h]=g[l],h+=1,l+=1,b[h]=d[h]=g[l],h+=1,l+=1,b[h]=d[h]=g[l],h+=1,l+=1;c.f=l&8191}};this.m.connect(this.a);this.a.connect(this.b.destination);this.C=!0}this.C&&(this.h=new Float32Array(8192));this.Ha=function(b){return function(c){b.a&&(b.a.gain.value=c?0:1)}}(this)};function va(){var b=cpu,d=memory,c=io,f=ay,e=!1,l,g=!0;this.N=0;this.na=d;this.a=b;this.f=c;this.Aa=new Ha(f,this.f.X);var h,q,m,k=!1;this.C=function(){if(void 0===this.c||576!=h||288!=q)if(this.c=document.createElement("canvas"),h=this.c.width=576,q=this.c.height=288,this.A=this.c.getContext("2d"),console.log("bufferContext=",this.A.canvas),this.m=this.A.getImageData(0,0,576,288),this.h.width=1*this.c.width,this.h.height=1*this.c.height,k="undefined"!==typeof Uint8ClampedArray&&this.m.data.buffer){console.debug("Using native packed graphics");
var b=this.m.data.buffer;m=new Uint8ClampedArray(b);this.j=new Uint32Array(b)}else{console.debug("Using manually unpacked graphics");m=this.m.data;for(b=0;b<m.length;b++)m[b]=255;this.j="undefined"!=typeof Int32Array?new Int32Array(165888):Array(165888)}if(!k)for(var c=0,d=0;c<this.j.length;c+=1)b=this.j[c],m[d+0]=b&255,m[d+1]=b>>8&255,m[d+2]=b>>16&255,d+=4;this.A.putImageData(this.m,0,0);this.Pa.drawImage(this.c,0,0,this.h.width,this.h.height)};this.O=!1;var z=this;this.Ca=0;this.f.xa=function(b){z.Ca=
b};this.ia=this.f.ia;this.b=0;this.Oa=function(){this.h=document.getElementById("canvas");this.h.getContext||alert("Your web browser does not support the 'canvas' tag.\nPlease upgrade/change your browser.");this.Pa=this.h.getContext("2d");this.c=void 0;this.C&&this.C();console.log("initCanvas: screnCanvas=",this.h)};var n=(new Date).getTime();this.l=0;this.S=2;this.J=function(){var b=50/(this.N+1);Ia(this,!0);for(var c=this.N;0<=--c;)Ia(this,!1);this.C();var d=n-(new Date).getTime();if(0>d)8>this.N&&
0>--this.S&&(this.S=2,++this.N,b=50/(this.N+1),this.o&&this.o(0,-d)),d=0,this.l=25,n=(new Date).getTime()+1E3/b;else{this.S=2;if(0<this.N&&20<d){if(0===this.l||0===--this.l)--this.N,this.l=25,this.o&&this.o(0,-d)}else this.l=25;n+=1E3/b}e?(e=!1,g=!0,l&&(l(),l=void 0)):function(b){setTimeout(function(){b.J()},d)}(this)};this.Oa();this.oa=function(b){g=e=!1;this.a.u=0;this.a.G=0;this.a.R=!1;b||(this.na.aa=void 0);M(this.f.X,3,54);M(this.f.X,3,118);M(this.f.X,3,182);f.reset();this.J()};this.Va=function(){g=
e=!1;this.J()};this.pause=function(b){g?b():(l=b,e=!0)}}
function Ia(b,d){b.g||(b.g=new Ja(b.j,b.ia,b.f,b.na.s));b.g.reset();for(var c,f;!b.g.ta;){c=f=-1;var e=b;e.O&&e.a.R&&(e.O=!1,118==e.a.va&&(e.a.u+=1),L(e.a,243),L(e.a,255),e.b+=16);b.g.O=b.g.O&&b.O;e=b.a;L(e,B(e));e=b.a.va;b.b+=b.a.Xa;211==e&&(c=b.b-5);-1!=c&&(c=4*c+4,f=c-20);c=b.g.fill(b.b<<2,c,f,d);b.O=b.a.R&&b.g.O;c=b.b-(c>>2);f=b.Aa;var e=b.b-c,l=b.Ca;f.g+=f.o*e/2;if(1<=f.g){--f.g;var g=f.A,h=g.b/g.a;g.b=g.a=0;g=1*h;h=f.l;h.a+=7*h.b;for(var q=h.b=0,m=0;96<=h.a;h.a-=96)q+=h.c.step(),m+=1;l=g+q/
m+l+.005*Math.random();g=f;h=g.c+1&8191;h!=g.f&&(g.h[g.c]=l-.5,g.c=h)}f.A.step(e/2);f.l.step(e);b.b=c}}function Ja(b,d,c,f){this.j=b;this.J=d;this.c=c;this.s=f;this.C=new Uint32Array(f.buffer);this.o=this.l=0;this.reset();var e=this;this.c.Ja=function(b){e.o=b};this.A=!1;this.c.Ka=function(b){e.A=b}}Ja.prototype.reset=function(){this.f=this.h=this.a=this.b=0;this.m=!0;this.visible=!1;this.g=0;this.O=this.ta=!1};
Ja.prototype.fill=function(b,d,c,f){var e=this.j,l=this.J,g;for(g=0;g<b&&!this.ta;g+=2){var h=this.b-24,q=this.m||128>h||640<=h;q?(this.h=0,h=this.o):(0===(h&15)&&(this.l=this.C[8192+((this.h&255)<<8|this.f&255)],this.h+=1),h=this.l,this.l=h<<1,h=h>>4&8|h>>13&4|h>>22&2|h>>31&1);if(g===d){var m=this.c;if(void 0!==m.f){var k=m,z=m.f,n=m.h;switch(z){case 0:k.c=n;z=k.a&8;0===(k.c&128)?(n=k.c>>1&7,k.a=1===(k.c&1)?k.a|1<<n:k.a&~(1<<n),k.xa(k.a&1)):k.ha=k.j=k.a=0;(k.a&8)!=z&&k.g&&k.g(0===(k.a&8));break;
case 1:z=k.a&8;k.a=n;k.xa(k.a&1);(k.a&8)!=z&&k.g&&k.g(0===(k.a&8));break;case 2:k.j=n;k.Ja(k.j&15);k.Ka(0!==(k.j&16));break;case 3:k.ha=n;break;case 4:k.o=n;break;case 5:k.S=n;break;case 6:k.J=n;break;case 7:k.C=n;break;case 12:case 13:case 14:case 15:k.m=n;break;case 16:k=k.na;k.b=0!==(n&16);k.a=0!==(n&32);k.c=(n&3)+1;k.f=((n&12)>>2)+1;break;case 20:case 21:k.A.write(z&1,n);break;case 24:k.b.write(3,n);break;case 25:k.b.write(2,n);break;case 26:k.b.write(1,n);break;case 27:k.b.write(0,n);break;case 28:k.b.write(4,
n)}m.f=m.h=void 0}}g===c&&(m=this.c,k=m.m,void 0===k&&12===m.f&&(k=m.h,m.f=m.h=void 0),void 0!==k&&(m.ia[h]=4278190080|(k&192)>>6<<22|(k&56)>>3<<13|(k&7)<<5,m.m=void 0));this.visible&&(m=this.b-120,0<=m&&576>m&&(this.A&&!q?(e[this.g++]=l[h&3],e[this.g++]=l[h&12]):(q=l[h],e[this.g++]=q,e[this.g++]=q)));this.b+=2;768===this.b&&(q=f,this.b=0,this.a+=1,--this.f,!this.m&&0>this.f&&(this.f=255),this.m=40>this.a||296<=this.a,this.visible=this.visible||q&&24===this.a,312===this.a&&(this.a=0,this.visible=
!1,this.ta=!0));40===this.a&&150===this.b?this.f=this.c.ha:0===this.a&&176===this.b&&(this.O=!0)}return g};
//# sourceMappingURL=vector06js.map
